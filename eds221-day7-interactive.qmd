---
title: "EDS 221 Day 7 Interactive Session"
format: html
editor: visual
---

```{r}
library(tidyverse)
library(palmerpenguins)
```

## Data Wrangling Refresher

1.  Starting from penguins, write a single piped sequence in which you:
    1.  only include penguins at Dream and Biscoe islands
    2.  Remove the year and sex variables
    3.  Add a new column body_mass_kg with penguin mass converted from g to kg
    4.  Rename the island variable to location

```{r}
ex_1 <- penguins %>% 
  filter(island %in% c("Dream", "Biscoe")) %>% 
  select(-year, -sex) %>% 
  mutate(body_mass_kg = body_mass_g / 1000) %>% 
  rename(location = island)
```

2.  Starting form penguins write a single piped sequence:
    -   Limit to Adelie penguins
    -   Remove any observations where flipper_length_mm is NA (!is.na() or drop_na())
    -   group the data by sex
    -   Create a summary table that contains the mean, sd, and sample size of flipper lengths for male and female adelie penguins

```{r}
ex_2 <- penguins %>% 
  filter(species == "Adelie") %>%
  drop_na(flipper_length_mm) %>%
  group_by(sex) %>%
  summarize(flipper_mean = mean(flipper_length_mm), 
            flipper_sd = sd(flipper_length_mm), 
            sample_size = n())
```

```{r}
penguins %>% 
  group_by(species, island, sex) %>% 
  summarize(sample_size = n())

# count does the same as above! wraps together group_by + summarize + n() to get counts of observations.
penguins %>% 
  count(species, island, sex)
```

```{r}
# install datapasta -> copy data table to clipboard -> Addins -> Paste as data.frame
animals <- data.frame(
  stringsAsFactors = FALSE,
          location = c("lagoon", "bluff", "creek", "oaks", "bluff"),
           species = c("bobcat", "coyote", "fox", "squirrel", "bobcat"),
          maturity = c("adult", "juvenile", "adult", "juvenile", "adult")
)
```

```{r}
sites <- data.frame(
  stringsAsFactors = FALSE,
          location = c("beach", "lagoon", "bluff", "oaks"),
    full_site_name = c("Goleta Beach","UCSB Lagoon",
                       "Ellwood Mesa","Fremont Campground"),
      jurisdiction = c("SB City", "UCSB", "SB City", "USFS")
)
```

## Joining

Full join:

```{r}
full_join_example <- full_join(animals, sites)
```

Left join:

```{r}
left_join_example <- left_join(animals, sites)
```

inner join

```{r}
inner_join_example <- inner_join(animals, sites)
```
